venv\\Scripts\\activate
python -m livekit_qwen_voicebot.main
python app.py
http://localhost:5000/


我想做一个语音聊天机器人。这个机器人能够实现的功能是：
1、一般处于待机状态，当用户说“小鹅”时，被唤醒。
2、在唤醒状态下，能够听懂用户提问，并且能够在极短的时间内进行回复（极低延迟）。在回复过程中，用户可以随时打断，并重新提问，机器人仍能在极短时间内进行回答。
3、机器人能够自主判断用户是否已经完成提问（有时用户的问题中会有短时间的间隔时间用于思考），只有当用户完整说完问题后，才开始回答。
4、当用户提问时，能够有效排除外部杂音，专注于用户的声音
5、能够定制机器人的声音，可以选择不同人的声音（男、女、定制化）来回答。
6、当用户说“结束”时，机器人重新回到休眠状态。当用户说“小鹅”时，又能快速被唤醒，做到休眠和唤醒两种状态无缝切换。
机器人的工作路径简单而言是：
第一步：机器人被唤醒
第二步：机器人听取用户问题（判断是否完整听完提问），进行STT
第三步：将问题文本发送给Qwen大模型（调用API，API Key：sk-31dc4cbb431940ee8fb7b6a0678f9e4f），Qwen大模型进行文本回答
第四步：将文本发送给一个基于Qwen的Agent，判断此回答是否过长或有较多的冗余信息，如有，将文本回答做精简。
第五步：机器人将大模型的文本回答进行TTS
第六步：机器人用语音回答用户问题。
前端展示方式：
一个简单的网页，中间是一个机器人的头像，头像下面有一个话筒，话筒默认有一道红色的斜杠，当用户说“小鹅”或主动点击话筒时，激活聊天机器人进行对话。页面右侧有一个框，里面记录用户说的话和模型回答的内容。
现在的项目文件是我自己随便写的，有bug，很不完善，你可以参考，也可以理清逻辑后完全从头开始。我的要求是实现全部功能，并且能够一次跑通，谢谢！
